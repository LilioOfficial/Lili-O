# Clean Server Architecture for Real-time Transcription & Diarization

This project provides a modular and clean implementation of a real-time audio processing server using `aiohttp`. It integrates:

- Real-time audio transcription (Moshi)
- Speaker diarization (DIART / PyAnnote)
- Reactive pipelines (RxPY)
- WebSocket interface
- Modular design for scalability and maintenance

---

## ğŸ§± Project Structure

```
project_root/
â”œâ”€â”€ main.py               
â”œâ”€â”€ pipelines.py    # Reactive pipelines for audio processing
â”œâ”€â”€ serverState.py # Core server state management
â””â”€â”€ utils.py # Utility functions

â”œâ”€â”€ static/             # Optional UI assets (served by aiohttp)
â”‚
â”œâ”€â”€ requirements.txt
â””â”€â”€ README.md
```

---

## ğŸš€ Getting Started

### 1. Clone & Install
```bash
git clone <repo_url>
pip install -r requirements.txt
```

### 2. Run the Server
```bash
python -m main
```


## ğŸ› ï¸ Key Components

- `ServerState` handles:
  - Stream reading (Opus â†’ PCM)
  - Model inference (MIMI + Moshi)
  - Reactive pipelines for diarization and transcription

- RxPY operators chain streaming audio into async pipelines

- Pyannote and Diart is used for speaker diarization in parallel


## âœ… TODOs
- [ ] Add segmentation and embedding path to configuration and model loading.

---

## ğŸ‘¥ Authors & License

- **Author**: [Ludovic Maitre]
MIT License - 2025
